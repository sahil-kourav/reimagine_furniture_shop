window['pinterest-tagDeps'] = ["/integrations/vendor/commons.a61d7bea37d2de5d4b69.js"];window['pinterest-tagLoader'] = function() { return window["pinterest-tagIntegration"]=function(t){function e(e){for(var o,p,a=e[0],s=e[1],d=e[2],u=0,y=[];u<a.length;u++)p=a[u],Object.prototype.hasOwnProperty.call(n,p)&&n[p]&&y.push(n[p][0]),n[p]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);for(c&&c(e);y.length;)y.shift()();return i.push.apply(i,d||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],o=!0,a=1;a<r.length;a++){var s=r[a];0!==n[s]&&(o=!1)}o&&(i.splice(e--,1),t=p(p.s=r[0]))}return t}var o={},n={108:0},i=[];function p(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,p),r.l=!0,r.exports}p.m=t,p.c=o,p.d=function(t,e,r){p.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(t,e){if(1&e&&(t=p(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(p.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)p.d(r,o,function(e){return t[e]}.bind(null,o));return r},p.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return p.d(e,"a",e),e},p.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},p.p="";var a=window.webpackJsonp_name_Integration=window.webpackJsonp_name_Integration||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var c=s;return i.push(["WWf5",0]),r()}({WWf5:function(t,e,r){"use strict";var o=r("hjHq"),n=r("8YPx"),i=t.exports=o("Pinterest Tag").global("pintrk").option("tid","").option("pinterestCustomProperties",[]).option("useEnhancedMatchLoad",!1).option("mapMessageIdToEventId",!1).mapping("pinterestEventMapping").tag('<script src="https://s.pinimg.com/ct/core.js"><\/script>');i.prototype.initialize=function(){if(this.options.tid){!function(t){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var e=window.pintrk;e.queue=[],e.version="3.0"}}(),this.load(this.ready);var t=this.analytics.user().traits();if(t&&t.email&&this.options.useEnhancedMatchLoad){var e=this.analytics.user().traits().email;window.pintrk("load",this.options.tid,{em:e})}else window.pintrk("load",this.options.tid);window.pintrk("page"),this.createPropertyMapping()}},i.prototype.loaded=function(){return!(!window.pintrk||!window.pintrk.queue)},i.prototype.identify=function(t){t.email()&&window.pintrk("set",{np:"segment",em:t.email()})},i.prototype.page=function(t){for(var e={name:t.name()||""},r=["event_id","eid","eventID"],o=0;o<r.length;o++)t.properties()&&t.properties()[r[o]]&&(e.event_id=t.properties()[r[o]]);this.options.mapMessageIdToEventId&&(e.event_id=t.proxy("messageId")),t.category()?(e.category=t.category(),window.pintrk("track","ViewCategory",e)):window.pintrk("track","PageVisit",e)},i.prototype.track=function(t){var e=t.event(),r=this.getPinterestEvent(e),o=this.generatePropertiesObject(t);r?window.pintrk("track",r,o):window.pintrk("track",e,o)},i.prototype.getPinterestEvent=function(t){for(var e in this.options.pinterestEventMapping)if(e.toLowerCase()===t.toLowerCase())return this.options.pinterestEventMapping[e];var r=[[n.productsSearched,"Search"],[n.productListFiltered,"Search"],[n.productAdded,"AddToCart"],[n.orderCompleted,"Checkout"],[n.videoPlaybackStarted,"WatchVideo"]];for(var o in r)if(r.hasOwnProperty(o)){var i=r[o][0],p=r[o][1];if(i.test(t))return p}},i.prototype.createPropertyMapping=function(){this.propertyMap={query:"search_query",order_id:"order_id",coupon:"coupon",value:"value",currency:"currency"},this.productPropertyMap={name:"product_name",product_id:"product_id",sku:"product_id",category:"product_category",variant:"product_variant",price:"product_price",quantity:"product_quantity",brand:"product_brand"},this.options.mapMessageIdToEventId&&(this.propertyMap.messageId="event_id")},i.prototype.generatePropertiesObject=function(t){var e,r={};for(var o in this.propertyMap)this.propertyMap.hasOwnProperty(o)&&(e=t.proxy("properties."+o))&&(r[this.propertyMap[o]]=e);this.options.mapMessageIdToEventId&&(r.event_id=t.proxy("messageId"));var n,i=t.proxy("properties.products");if(Array.isArray(i)){n=[];for(var p=0;p<i.length;p++)for(var a in this.productPropertyMap)this.productPropertyMap.hasOwnProperty(a)&&(e=i[p][a])&&(void 0===n[p]&&(n[p]={}),n[p][this.productPropertyMap[a]]=e);n.length&&(r.line_items=n)}else{n=[{}];var s=!1;for(var d in this.productPropertyMap)this.productPropertyMap.hasOwnProperty(d)&&(e=t.proxy("properties."+d))&&(n[0][this.productPropertyMap[d]]=e,s=!0);s&&(r.line_items=n)}for(var c=this.options.pinterestCustomProperties,u=0;u<c.length;u++){var y=c[u];(e=t.proxy("properties."+y))&&(r[y]=e)}return r}}});
//# sourceMappingURL=pinterest-tag.js.map
};